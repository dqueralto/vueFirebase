{"remainingRequest":"/Users/daw/Git-Hub/vuefirebase/node_modules/thread-loader/dist/cjs.js!/Users/daw/Git-Hub/vuefirebase/node_modules/babel-loader/lib/index.js!/Users/daw/Git-Hub/vuefirebase/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/daw/Git-Hub/vuefirebase/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/daw/Git-Hub/vuefirebase/src/components/Principal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/daw/Git-Hub/vuefirebase/src/components/Principal.vue","mtime":1581341584213},{"path":"/Users/daw/Git-Hub/vuefirebase/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daw/Git-Hub/vuefirebase/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daw/Git-Hub/vuefirebase/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/daw/Git-Hub/vuefirebase/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/daw/Git-Hub/vuefirebase/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vZGIuanMnOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3ByaW5jaXBhbCcsCiAgcHJvcHM6IFtdLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdGFOb3RhczogW10sCiAgICAgIG51ZXZhTm90YTogewogICAgICAgIFRhcmVhOiAiIiwKICAgICAgICBBcmNoaXZvOiB7CiAgICAgICAgICBuYW1lOiBudWxsLAogICAgICAgICAgdXJsOiBudWxsCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgZmlyZXN0b3JlOiB7CiAgICBsaXN0YU5vdGFzOiBkYi5jb2xsZWN0aW9uKCdub3RhcycpCiAgfSwKICBtZXRob2RzOiB7CiAgICBhcmNoaXZvU2VsZWNjaW9uYWRvOiBmdW5jdGlvbiBhcmNoaXZvU2VsZWNjaW9uYWRvKGV2ZW50KSB7CiAgICAgIHRoaXMubnVldmFOb3RhLkFyY2hpdm8gPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICB9LAogICAgYWRkTm90YTogZnVuY3Rpb24gYWRkTm90YSgpIHsKICAgICAgdGhpcy5vblVwbG9hZCgpOwogICAgICBkYi5jb2xsZWN0aW9uKCdub3RhcycpLmFkZCh7CiAgICAgICAgVGFyZWE6IHRoaXMubnVldmFOb3RhLlRhcmVhLAogICAgICAgIEF1dG9yOiBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIuZW1haWwsCiAgICAgICAgQXJjaGl2bzogewogICAgICAgICAgbmFtZTogdGhpcy5udWV2YU5vdGEuQXJjaGl2by5uYW1lLAogICAgICAgICAgdXJsOiB0aGlzLm51ZXZhTm90YS5BcmNoaXZvLnVybAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25VcGxvYWQ6IGZ1bmN0aW9uIG9uVXBsb2FkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHN0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCIiLmNvbmNhdCh0aGlzLm51ZXZhTm90YS5BcmNoaXZvLm5hbWUpKS5wdXQodGhpcy5udWV2YU5vdGEuQXJjaGl2byk7CiAgICAgIHN0b3JhZ2VSZWYub24oInN0YXRlX2NoYW5nZWQiLCBmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICBfdGhpcy51cGxvYWRWYWx1ZSA9IHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzICogMTAwOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTsKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnVwbG9hZFZhbHVlID0gMTAwOwogICAgICAgIHN0b3JhZ2VSZWYuc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICBpZiAodXJsID09IG51bGwpIHsKICAgICAgICAgICAgX3RoaXMuYWRkTm90YSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMubnVldmFOb3RhLkFyY2hpdm8udXJsID0gdXJsOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxOb3RhOiBmdW5jdGlvbiBkZWxOb3RhKG5vdGEpIHsKICAgICAgZGIuY29sbGVjdGlvbignbm90YXMnKS5kb2Mobm90YS5pZCkuZGVsZXRlKCk7CiAgICB9LAogICAgc2luZ091dGg6IGZ1bmN0aW9uIHNpbmdPdXRoKCkgewogICAgICBkYi5hdXRoKCkuc2lnbk91dCgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzdWFyaW86IGZ1bmN0aW9uIHVzdWFyaW8oKSB7CiAgICAgIHJldHVybiBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIuZW1haWw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Principal.vue"],"names":[],"mappings":";AAuFA,SAAA,EAAA,QAAA,UAAA;AACA,OAAA,QAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA,EAFA;AAGA,EAAA,OAHA,qBAGA,CAEA,CALA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA;AACA,UAAA,IAAA,EAAA,IADA;AAEA,UAAA,GAAA,EAAA;AAFA;AAFA;AAFA,KAAA;AAUA,GAjBA;AAkBA,EAAA,SAAA,EAAA;AACA,IAAA,UAAA,EAAA,EAAA,CAAA,UAAA,CAAA,OAAA;AADA,GAlBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,mBADA,+BACA,KADA,EACA;AACA,WAAA,SAAA,CAAA,OAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,KAHA;AAIA,IAAA,OAAA,EAAA,mBAAA;AAIA,WAAA,QAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,GAAA,CACA;AACA,QAAA,KAAA,EAAA,KAAA,SAAA,CAAA,KADA;AAEA,QAAA,KAAA,EAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,KAFA;AAGA,QAAA,OAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA,SAAA,CAAA,OAAA,CAAA,IADA;AAEA,UAAA,GAAA,EAAA,KAAA,SAAA,CAAA,OAAA,CAAA;AAFA;AAHA,OADA;AAUA,KAnBA;AAoBA,IAAA,QApBA,sBAoBA;AAAA;;AAEA,UAAA,UAAA,GAAA,QAAA,CAAA,OAAA,GAAA,GAAA,WAAA,KAAA,SAAA,CAAA,OAAA,CAAA,IAAA,GAAA,GAAA,CAAA,KAAA,SAAA,CAAA,OAAA,CAAA;AACA,MAAA,UAAA,CAAA,EAAA,kBAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,gBAAA,GAAA,QAAA,CAAA,UAAA,GAAA,GAAA;AACA,OAFA,EAEA,UAAA,KAAA,EAAA;AAAA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AAAA,OAFA,EAGA,YAAA;AAAA,QAAA,KAAA,CAAA,WAAA,GAAA,GAAA;AACA,QAAA,UAAA,CAAA,QAAA,CAAA,GAAA,CAAA,cAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,GAAA,IAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA;AACA,WAFA,MAEA;AACA,YAAA,KAAA,CAAA,SAAA,CAAA,OAAA,CAAA,GAAA,GAAA,GAAA;AAEA;AACA,SAPA;AAQA,OAZA;AAaA,KApCA;AAqCA,IAAA,OAAA,EAAA,iBAAA,IAAA,EAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,EAAA,EAAA,MAAA;AACA,KAvCA;AAyCA,IAAA,QAAA,EAAA,oBAAA;AACA,MAAA,EAAA,CAAA,IAAA,GAAA,OAAA;AAEA;AA5CA,GArBA;AAoEA,EAAA,QAAA,EAAA;AACA,IAAA,OAAA,EAAA,mBAAA;AACA,aAAA,QAAA,CAAA,IAAA,GAAA,WAAA,CAAA,KAAA;AACA;AAHA;AApEA,CAAA","sourcesContent":["<template lang=\"html\">\n\n  <section class=\"principal\">\n    <div>\n      <nav class=\"navbarnavbar-dark bg-primary color\">\n          <a  class=\"navbar-brand\">Ejemplo Vue+Firebase</a>\n        <div class=\"btn-group\">\n          <button type=\"button\" class=\"btn btn-secondary dropdown-toggle\" data-toggle=\"dropdown\" data-display=\"static\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            {{usuario}}\n          </button>\n          <div class=\"dropdown-menu dropdown-menu-lg-right\">\n            <button class=\"dropdown-item\" type=\"button\">Salir</button>\n          </div>\n        </div>\n      </nav>\n      <div class=\"container m-0\">\n          <div class=\"row mt-5\">\n              <div class=\"col-sm-5\">\n                  <div class=\"card\" style=\"width: 100%;\">\n                      <div class=\"card-header\">\n                          Agrega una nueva tarea\n                          <div class=\"card-body\">\n                              <form @submit.prevent=\"addNota\">\n                                  <div class=\"form-group\">\n                                      <input type=\"text\" class=\"form-control\" v-model=\"nuevaNota.Tarea\" placeholder=\"Tarea\">\n                                      <!--<input type=\"text\" class=\"form-control\" v-model=\"nuevaNota.Autor\" placeholder=\"Autor\">-->\n                                      <div>\n                                        <!-- Styled -->\n                                        <b-form-file\n                                          v-model=\"nuevaNota.archivo\"\n                                          :state=\"Boolean(nuevaNota.archivo)\"\n                                          placeholder=\"Choose a file or drop it here...\"\n                                          drop-placeholder=\"Drop file here...\"\n                                          @change=\"archivoSeleccionado\"\n                                        ></b-form-file>\n\n                                        \n                                        <!--<input type=\"file\" @change=\"archivoSeleccionado\" />-->\n\n                                       \n                                      </div>\n                                      <button type=\"submit\" class=\"btn btn-primary\">Subir</button>\n                                  </div>\n                              </form>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n              <div class=\"col-sm-7 text-center \">\n                  <div class=\"card \" style=\"width: 100%\">\n                      <div class=\"card-header\">\n                          Lista Tareas\n                          <div class=\"card-body\">\n                              <table class=\"table table-stripped table-bordered\">\n                                <thead>\n                                  <tr>\n                                    <td><b>Tarea</b></td>\n                                    <td><b>Autor</b></td>\n                                    <td><b>Archivo</b></td>\n                                    <td><b>Operaciones</b></td>\n\n                                  </tr>\n                                </thead>\n                                <tbody>\n                                  <tr v-for=\"nota in listaNotas\" v-bind:key=\"nota.Tarea\">\n                                    <td>{{nota.Tarea}}</td>\n                                    <td>{{nota.Autor}}</td>\n                                    <td><a :href=\"nota.Archivo.url\">{{nota.Archivo.name}}</a></td>\n                                    <td>\n                                      <b-button variant=\"danger\" v-on:click=\"delNota(nota)\">Eliminar</b-button>\n                                    </td>\n                                  </tr>\n                                </tbody>\n                              </table>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n          </div>\n      </div>\n    </div>\n\n  </section>\n\n</template>\n\n<script lang=\"js\">\nimport { db } from '../db.js'\nimport firebase from 'firebase';\n\n  export default  {\n    name: 'principal',\n    props: [],\n    mounted () {\n\n    },\n    data () {\n      return {\n        listaNotas:[],\n        nuevaNota:{\n          Tarea:\"\", \n          Archivo:{\n            name:null,\n            url:null\n          }\n        }\n      }\n    },\n    firestore: {\n      listaNotas: db.collection('notas'),\n    },\n    methods: {\n      archivoSeleccionado(event) {\n        this.nuevaNota.Archivo = event.target.files[0];\n      },\n      addNota:function(){\n\n\n        \n        this.onUpload()\n        db.collection('notas').add(\n          {\n            Tarea: this.nuevaNota.Tarea,\n            Autor: firebase.auth().currentUser.email,\n            Archivo:{\n              name:this.nuevaNota.Archivo.name,\n              url:this.nuevaNota.Archivo.url\n            }\n          }\n        )\n      },\n      onUpload(){\n\n        const storageRef = firebase.storage().ref(`${this.nuevaNota.Archivo.name}`).put(this.nuevaNota.Archivo);\n        storageRef.on(`state_changed`,snapshot=>{\n          this.uploadValue = (snapshot.bytesTransferred/snapshot.totalBytes)*100;\n        }, error=>{console.log(error.message)},\n        ()=>{this.uploadValue=100;\n          storageRef.snapshot.ref.getDownloadURL().then((url)=>{\n            if (url == null) {\n              this.addNota()\n            }else{\n              this.nuevaNota.Archivo.url = url;\n\n            }\n          });\n        }      \n      )},\n      delNota:(nota) => {\n        db.collection('notas').doc(nota.id).delete()\n      },\n\n      singOuth:()=>{\n        db.auth().signOut();\n        \n      }\n\n    },\n    computed: {\n        usuario:()=>{\n          return firebase.auth().currentUser.email;\n        }\n    }\n}\n\n\n</script>\n\n<style scoped lang=\"css\">\n  .principal {\n\n  }\n  .color{\n    color:black;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}